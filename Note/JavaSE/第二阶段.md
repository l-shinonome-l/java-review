# 面向对象编程高级
## 类变量和类方法
### 类变量
用单独变量统计类的实例个数会很麻烦，所以要用类变量/静态变量/静态属性

使用static关键字修饰变量，该变量就变成该类所有实例所共享的，也就是静态变量，在类加载时生成，随类消亡而毁灭

定义：`访问修饰符 static 数据类型 变量名;`（推荐）/ `static 访问修饰符 数据类型 变量名;`

使用`类名/实例名.静态变量名`就可以访问

jkd8以前在方法区，8及以后在堆中类对应的Class实例的尾部

### 类方法
静态方法

定义：`访问修饰符 static 数据返回类型 方法名(){}`（推荐）/ `static 访问修饰符 数据返回类型 方法名(){}`

使用`类名/实例名.静态方法名`就可以访问

免去使用方法必须创建实例的限制，如Math类、Arrays类、Collections集合类，都可以直接使用其中的静态方法来简化代码，自己开发工具类也可以使用静态方法

- 随类加载而加载，在方法区
- 无this参数
- 不允许使用this或super关键字，
- 只能访问静态成员（静态变量+静态方法）
  
## 深入理解main
`public static void main(String[] args) {}`

1. java虚拟机来调用main方法，所以要设定为public
2. 执行main方法时不创建对象，所以必须是static
3. 调用时形参列表为String的数组，数组名是args，执行命令为'java 运行的类名 args[0] args[1] ...'/idea里用Edit Configurations，设置Program arguments即可

main中可以直接调用所在类的静态方法和静态属性，但不能直接访问非静态成员，必须创建一个实例之后才能通过这个实例去访问

## 代码块
也叫初始化块，属于类的成员，类似方法，将逻辑语句用`{}`包裹起来

没有方法名，没有返回，没有参数，只有方法体，不能通过对象或类显式调用，在加载类（有static）或创建对象（没有static）时隐式调用

`修饰符 {};`，修饰符可选，只可以选static，有static的叫静态代码块，没有的叫普通代码块，`;`可写，也可忽略

相当于另一种形式的构造器，多个构造器中有重复语句可以抽取到代码块中，提高代码复用性，代码块的调用优先于构造器

- 有static修饰的代码块对类进行初始化，类加载时执行，只执行一次，没有static修饰的代码块每创建一个对象就执行一次，只调用静态成员不会执行没有static修饰的代码块
- 类加载的情况：
  - 创建对象实例（new）
  - 创建子类对象实例，父类也会被加载
  - 使用类的静态属性或静态方法时，子类调用父类的静态成员只加载父类，调用子类的静态对象父类会被加载
  - 使用反射机制访问类且initialize为true时
  - JVM启动时会加载一些系统类；含有main方法的类在被执行的时候会被加载
  - JDK8 之后，接口中存在default方法，这个接口的实现类初始化时，接口会其之前进行初始化
- 创建对象调用的顺序：调用静态代码块和静态属性初始化（按定义顺序）->调用普通代码块和普通属性的初始化（按定义顺序）->调用构造方法
- 构造器最前面隐含了`super()`和调用普通代码块，所以先执行父类的普通代码块，父类的构造器，再执行本类的普通代码块和构造器中剩下的语句，静态代码块和静态属性在类加载时就执行完毕，先于普通代码块和构造器
- 创建一个子类实例的调用顺序：父类静态代码块和静态属性（按定义顺序）->子类静态代码块和静态属性（按定义顺序）->父类普通代码块和普通属性初始化（按定义顺序）->父类构造方法->子类普通代码块和普通属性初始化（按定义顺序）->子类构造方法
- 静态代码块只能调用静态属性和静态方法，普通代码块随意
## 单例设计模式
## final关键字
## 抽象类
## 接口
## 内部类
